<!-- Views/ArticleListPanel.xaml -->
<UserControl x:Class="RssReader.Views.ArticleListPanel"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:RssReader.Views"
             mc:Ignorable="d" 
             d:DesignHeight="200" d:DesignWidth="600">
    
    <Grid Background="{DynamicResource BackgroundColor}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>
        
        <!-- Header with filter options -->
        <DockPanel Grid.Row="0" LastChildFill="True" Margin="10,10,10,5">
            <TextBlock Text="Articles" FontSize="14" FontWeight="SemiBold" 
                       Foreground="{DynamicResource PrimaryTextColor}" 
                       VerticalAlignment="Center" />
            
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <TextBox x:Name="searchBox" Width="150" Margin="0,0,10,0" 
                         VerticalAlignment="Center" 
                         TextChanged="SearchBox_TextChanged" 
                         ToolTip="Search articles by title or content" />
                
                <ComboBox x:Name="filterCombo" Width="100" SelectedIndex="0"
                          SelectionChanged="FilterCombo_SelectionChanged">
                    <ComboBoxItem Content="All" />
                    <ComboBoxItem Content="Unread" />
                    <ComboBoxItem Content="Favorites" />
                </ComboBox>
            </StackPanel>
        </DockPanel>
        
        <!-- Article List -->
        <ListView x:Name="articleListView" Grid.Row="1" Margin="5,0,5,5"
                  BorderThickness="0" Background="Transparent"
                  SelectionChanged="ArticleListView_SelectionChanged">
            <ListView.Resources>
                <Style TargetType="ListViewItem">
                    <Setter Property="Padding" Value="10,8"/>
                    <Setter Property="Margin" Value="0,2"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="HorizontalContentAlignment" Value="Stretch"/>
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="{DynamicResource HighlightColor}"/>
                        </Trigger>
                        <Trigger Property="IsMouseOver" Value="True">
                            <Setter Property="Background" Value="{DynamicResource HighlightColor}"/>
                            <Setter Property="Cursor" Value="Hand"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </ListView.Resources>
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" 
                                   Text="{Binding Title}" 
                                   TextTrimming="CharacterEllipsis"
                                   FontWeight="{Binding TitleFontWeight}"
                                   Foreground="{Binding TitleColor}"/>
                        
                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal">
                            <TextBlock Text="â˜…" Foreground="{DynamicResource FavoriteColor}" 
                                       Visibility="{Binding IsFavorite, Converter={StaticResource BooleanToVisibilityConverter}}"
                                       Margin="0,0,5,0" FontSize="14" />
                            
                            <TextBlock Text="{Binding PublishTimeAgo}" 
                                       Foreground="{DynamicResource SecondaryTextColor}" 
                                       FontSize="11" VerticalAlignment="Center" />
                        </StackPanel>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" 
                                   Text="{Binding Summary}" 
                                   TextWrapping="Wrap" TextTrimming="CharacterEllipsis"
                                   MaxHeight="40" Margin="0,3,0,0"
                                   Foreground="{DynamicResource SecondaryTextColor}"
                                   FontSize="12"/>
                    </Grid>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </Grid>
</UserControl>